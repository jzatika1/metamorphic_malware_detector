# Metamorphic Malware Detector

Metamorphic Malware Detector is a Python-based tool that uses Hidden Markov Models (HMM) for detecting malware. The tool includes functionalities for training the HMM model and classifying files based on the trained model.

## Table of Contents

- [Installation](#installation)
- [Usage](#usage)
  - [Training the Model](#training-the-model)
  - [Classifying Files](#classifying-files)
- [Options](#options)
  - [train.py Options](#trainpy-options)
  - [classify.py Options](#classifypy-options)

## Installation

1. **Clone the repository:**

   ```
   git clone https://github.com/jzatika1/metamorphic_malware_detector.git
   cd metamorphic_malware_detector
   ```

2. **Create and activate a conda environment:**

   ```
   conda env create -f environment.yml
   conda activate metamorphic_malware_detector
   ```

3. **Ensure all necessary dependencies are installed:**

   The `environment.yml` file will install all the required packages.

## Usage

### Training the Model

To train the HMM model, use the `train.py` script. You can specify various options such as enabling debug logging, limiting the number of files to load, using saved sequences, and specifying directories to load files from.

```
python train.py --debug --limit 1000 --use-saved-sequences --directories data/
```

### Classifying Files

To classify files using the trained HMM model, use the `classify.py` script. You can specify options such as enabling debug logging, limiting the number of files to load, specifying directories to load files from, and using saved sequences for classification.

```
python classify.py --debug --limit 500 --directories input/
```

## Options

### `train.py` Options

- `-h, --help`: Show this help message and exit.
- `--debug`: Enable debug logging.
- `--limit LIMIT`: Limit the number of files to load.
- `--use-saved-sequences`: Use saved opcode and numeric sequences.
- `--directories DIRECTORIES [DIRECTORIES ...]`: Directories to load files from.

### `classify.py` Options

- `-h, --help`: Show this help message and exit.
- `--debug`: Enable debug logging.
- `--limit LIMIT`: Limit the number of files to load.
- `--directories DIRECTORIES [DIRECTORIES ...]`: Directories to load files from.
- `--use-saved`: Use saved opcode and numeric sequences for classification.
